/*
 * Init_Meter.c
 *
 *  Created on: Dec 15, 2015
 *      Author: Administrator
 */

#include "variable.h"
#include "GELEX_Init_Meter.h"
#include "GELEX_Read_Meter.h"
#include "t_mqtt.h"

#include "pushdata.h"
#include "Init_All_Meter.h"

#include "myDefine.h"
// ======================== Array ==============================
uint8_t GELEX_SNRM[9] = {0x7E,0xA0,0x07,0x03,0x21,0x93,0x0F,0x01,0x7E};
uint8_t GELEX_AARQ[74] = { 0x7E,0xA0,0x48,0x03,0x21,0x10,0xD2,0x13,0xE6,0xE6,0x00,0x60,0x3A,0x80,0x02,0x02,0x84,0xA1
								,0x09,0x06,0x07,0x60,0x85,0x74,0x05,0x08,0x01,0x01,0x8A,0x02,0x07,0x80,0x8B,0x07,0x60,0x85
								,0x74,0x05,0x08,0x02,0x01,0xAC,0x0A,0x80,0x08,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0xBE
								,0x10,0x04,0x0E,0x01,0x00,0x00,0x00,0x06,0x5F,0x1F,0x04,0x00,0xFF,0xFF,0xFF,0x28,0x00,0x68,0xF4,0x7E};
uint8_t	GELEX_MInfo_MTemp[27] = {0x7E,0xA0,0x19,0x03,0x21		//Byte0-4		4 byte Fix-don't care 1Byte: Addr HN-0x25	SG-0x21
								,0x00							//Byte5			ID Frame
								,0x00,0x00						//Byte6-7		Header check sum (calculate 1-5)
								,0xE6,0xE6,0x00,0xC0,0x01,0x81	//Byte8-13		Fix-don't care
								,0x00,0x00						//Byte14-15		Class ID
								,0x00,0x00,0x00,0x00,0x00,0x00	//Byte16-21		OBIS
								,0x00,0x00						//Byte22-23		Data type 0200-Data	0300-Scale	0500-Time(maxdimand)
								,0x00,0x00,0x7E};				//Byte24-26		Total check sum (calculate 1-23)

uint8_t	GELEX_MeterInfoMessIDTable[61] = {5 ,6 ,7 ,8 ,9 ,10 ,11 ,12 ,13 ,14 ,15 ,16 ,17 ,18 ,19 
									,20 ,21 ,22 ,23 ,24 ,25 ,26 ,27 ,28 ,29 ,30 ,31 ,32 ,33 ,34 ,35 ,36 ,37 ,38 ,39 
									,40 ,41 ,42 ,43 ,44 ,52 ,45 , 53, 46, 54 ,47, 55 ,48, 56 ,49, 57 ,50, 58 ,51, 59 , 0, 0xFF};  //1 ,2 ,3 ,4 ,   0

uint8_t	GELEX_MeterTuTiMessIDTable[5] = {3 ,4, 1 ,2 ,0xFF};   //tu truoc ti sau

uint8_t	GELEX_GetScale_Code_Table[80] = {0 ,1 ,2 ,3 ,4 ,5 ,6 ,7 ,8 ,9 ,10 ,11 ,12 ,13 ,14 ,15 ,16 ,17 ,18 ,19 
									,20 ,21 ,22 ,23 ,24 ,25 ,26 ,27 ,28 ,29 ,30 ,31 ,32 ,33 ,34 ,35 ,36 ,37 ,38 ,39 
									,40 ,41 ,42 ,43 ,44 ,45 ,46 ,47 ,48 ,49 ,50 ,51 ,52 ,53 ,54 ,55 ,56 ,57 ,58 ,59
									,60 ,61 ,62 ,63 ,64 ,65 ,66 ,67 ,68 ,69 ,70 ,71 ,72 ,73 ,74 ,75, 76, 77, 78, 0xFF};  //them 75, 76, 77, 78
//         
uint8_t	GELEX_Get_Period_Template[27] = {0x7E,0xA0,0x19,0x03,0x21,0x32,0x6F,0xD8,0xE6,0xE6,0x00,0xC0,0x01,0x81,
									   0x00,0x07,0x01,0x00,0x63,0x01,0x00,0xFF,0x04,0x00,0xA2,0x59,0x7E};
	                                                                                                              
uint8_t	GELEX_Get_OBIS_Template[27] = {0x7E,0xA0,0x19,0x03,0x21,0x32,0x6F,0xD8,0xE6,0xE6,0x00,0xC0,0x01,0x81,     //quy dinh khung truyen trong file pdf moo ta
									   0x00,0x07,0x01,0x00,0x62,0x01,0x00,0xFF,0x03,0x00,0xA2,0x59,0x7E};
uint8_t	GELEX_Get_OBIS_Template_Special[27] = {0x7E,0xA0,0x19,0x03,0x21,0x32,0x6F,0xD8,0xE6,0xE6,0x00,0xC0,0x01,0x81,
									   0x00,0x07,0x01,0x00,0x62,0x01,0x00,0xFF,0x02,0x00,0xA2,0x59,0x7E};
uint8_t	GELEX_Get_Block_Template[21] = {0x7E,0xA0,0x13,0x03,0x21,0x32,0x00,0x00,0xE6,0xE6,0x00,0xC0,
									   0x02,0x81,0x00,0x00,0x00,0x01,0x00,0x00,0x7E};
uint8_t	GELEX_Get_DATA_Template[78] = {0x7E,0xA0,0x4C,0x03,0x21,0x32,0x2E,0x63,0xE6,0xE6,0x00,0xC0,0x01,0x81,
									  0x00,0x07,0x01,0x00,0x62,0x01,0x00,0xFF,0x02,0x01,0x01,0x02,0x04,0x02,0x04,
									  0x12,0x00,0x08,0x09,0x06,0x00,0x00,0x01,0x00,0x00,0xFF,0x0F,0x02,0x12,0x00,
									  0x00,0x09,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0xFF,
                                      0x09,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0xFF,0x01,0x00,0xCB,0xD7,0x7E};					
//                                                                                                                
	                                                                                                             
uint8_t	GELEX_MEvent_Mess_OBIS[6] = {0x00,0x00,0x63,0x62,0x00,0xFF};
uint8_t	GELEX_MTamper_Mess_OBIS[6] = {0x00,0x00,0x63,0x62,0x01,0xFF};
uint8_t	GELEX_MAlarm_Mess_OBIS[6] = {0x00,0x00,0x63,0x62,0x04,0xFF};
uint8_t	GELEX_MEvent_StartTime[8] = {0x07,0xDF,0x09,0x01,0xFF,0x00,0x00,0x00};
uint8_t	GELEX_MEvent_StopTime[8] = {0x07,0xDF,0x0C,0x0A,0xFF,0x00,0x00,0x00};

//                                                                                                                
	                                                                                                             
uint8_t	GELEX_MBilling_Mess_OBIS[6]         = {0x01,0x00,0x62,0x01,0x00,0xFF};
uint8_t	GELEX_MBilling_Mess_OBIS_MDTime[6]  = {0x01,0x00,0x63,0x06,0x00,0xFF};
uint8_t	GELEX_MBilling_StartTime[8]         = {0x07,0xDF,0x0A,0x02,0xFF,0x00,0x00,0x00};
uint8_t	GELEX_MBilling_StopTime[8]          = {0x07,0xDF,0x0B,0x02,0xFF,0x00,0x00,0x00};
uint8_t	GELEX_MBilling_OBIS_List[128];
//                                                                                                                
	                                                                                                              
uint8_t GELEX_MLProfile_Mess_OBIS_Channel1[6] = {0x01,0x00,0x63,0x01,0x00,0xFF};
uint8_t GELEX_MLProfile_Mess_OBIS_Channel2[6] = {0x01,0x00,0x63,0x02,0x00,0xFF};
uint8_t GELEX_MLProfile_OBIS_List[128];

uint8_t	GELEX_MLProfile_StartTime[8] = {0x07,0xDF,0x0C,0x08,0xFF,0x00,0x00,0x00};
uint8_t	GELEX_MLProfile_StopTime[8] = {0x07,0xDF,0x0C,0x08,0xFF,0x17,0x3B,0x00};
//                                                                                                                
	                                                                                                             
uint8_t	GELEX_NextFrame[9] = {0x7E,0xA0,0x07,0x03,0x21,0x51,0x00,0x00,0x7E};
uint8_t	GELEX_Read_END[9] = {0x7E,0xA0,0x07,0x03,0x21,0x53,0x03,0xC7,0x7E};

uint8_t 	GELEX_MInfo_Table[60][11] = {
//  -OBIS|Class ID-|----------OBIS Code----------|Data Type-
//     0    1    2    3    4    5    6    7    8    9    10 
	{0x01,0x00,0x08,0x00,0x00,0x01,0x00,0x00,0xFF,0x02,0x00},       //MeterTime                                 0
	{0x41,0x00,0x01,0x01,0x00,0x00,0x04,0x02,0xFF,0x02,0x00},       //Ti_1                                      1                        
	{0x64,0x00,0x01,0x01,0x00,0x00,0x04,0x05,0xFF,0x02,0x00},       //Ti_2
	{0x42,0x00,0x01,0x01,0x00,0x00,0x04,0x03,0xFF,0x02,0x00},       //Tu_1
	{0x65,0x00,0x01,0x01,0x00,0x00,0x04,0x06,0xFF,0x02,0x00},       //Tu_2
	{0x27,0x00,0x03,0x01,0x00,0x01,0x08,0x00,0xFF,0x02,0x00},       //PositiveActiveEnergyTotal                 5
	{0x1F,0x00,0x03,0x01,0x00,0x01,0x08,0x01,0xFF,0x02,0x00},       //PositiveActiveEnergyTariff1
	{0x20,0x00,0x03,0x01,0x00,0x01,0x08,0x02,0xFF,0x02,0x00},       //PositiveActiveEnergyTariff2
	{0x21,0x00,0x03,0x01,0x00,0x01,0x08,0x03,0xFF,0x02,0x00},       //PositiveActiveEnergyTariff3
	{0x28,0x00,0x03,0x01,0x00,0x02,0x08,0x00,0xFF,0x02,0x00},       //NegativeActiveEnergyTotal
	{0x23,0x00,0x03,0x01,0x00,0x02,0x08,0x01,0xFF,0x02,0x00},       //NegativeActiveEnergyTariff1               10    
	{0x24,0x00,0x03,0x01,0x00,0x02,0x08,0x02,0xFF,0x02,0x00},       //NegativeActiveEnergyTariff2
	{0x25,0x00,0x03,0x01,0x00,0x02,0x08,0x03,0xFF,0x02,0x00},       //NegativeActiveEnergyTariff3
	{0x29,0x00,0x03,0x01,0x00,0x03,0x08,0x00,0xFF,0x02,0x00},       //PositiveReactiveEnergyTotal
	{0x49,0x00,0x03,0x01,0x00,0x03,0x08,0x01,0xFF,0x02,0x00},       //PositiveReactiveEnergyTariff1
	{0x4A,0x00,0x03,0x01,0x00,0x03,0x08,0x02,0xFF,0x02,0x00},       //PositiveReactiveEnergyTariff2             15
	{0x4B,0x00,0x03,0x01,0x00,0x03,0x08,0x03,0xFF,0x02,0x00},       //PositiveReactiveEnergyTariff3
	{0x2B,0x00,0x03,0x01,0x00,0x04,0x08,0x00,0xFF,0x02,0x00},       //NegativeReactiveEnergyTotal
	{0x4D,0x00,0x03,0x01,0x00,0x04,0x08,0x01,0xFF,0x02,0x00},       //NegativeReactiveEnergyTariff1
	{0x4E,0x00,0x03,0x01,0x00,0x04,0x08,0x02,0xFF,0x02,0x00},       //NegativeReactiveEnergyTariff2
	{0x4F,0x00,0x03,0x01,0x00,0x04,0x08,0x03,0xFF,0x02,0x00},       //NegativeReactiveEnergyTariff3             20
	{0x1A,0x00,0x03,0x01,0x00,0x09,0x07,0x00,0xFF,0x02,0x00},       //RealApparentPowerTotal
	{0x17,0x00,0x03,0x01,0x00,0x16,0x07,0x00,0xFF,0x02,0x00},       //ApparentPowerPhaseA
	{0x18,0x00,0x03,0x01,0x00,0x2A,0x07,0x00,0xFF,0x02,0x00},       //ApparentPowerPhaseB
	{0x19,0x00,0x03,0x01,0x00,0x3E,0x07,0x00,0xFF,0x02,0x00},       //ApparentPowerPhaseC
	{0x1B,0x00,0x03,0x01,0x00,0x0D,0x07,0x00,0xFF,0x02,0x00},       //TotalPowerFactor			25              
	{0x1C,0x00,0x03,0x01,0x00,0x21,0x07,0x00,0xFF,0x02,0x00},       //PowerFactorL1				26
	{0x1D,0x00,0x03,0x01,0x00,0x35,0x07,0x00,0xFF,0x02,0x00},       //PowerFactorL2				27
	{0x1E,0x00,0x03,0x01,0x00,0x49,0x07,0x00,0xFF,0x02,0x00},       //PowerFactorL3				28
	{0x09,0x00,0x03,0x01,0x00,0x0E,0x07,0x00,0xFF,0x02,0x00},       //Frequencies				29
	{0x02,0x00,0x03,0x01,0x00,0x20,0x07,0x00,0xFF,0x02,0x00},       //InstantVoltagePhaseA		30
	{0x03,0x00,0x03,0x01,0x00,0x34,0x07,0x00,0xFF,0x02,0x00},       //InstantVoltagePhaseB		31
	{0x04,0x00,0x03,0x01,0x00,0x48,0x07,0x00,0xFF,0x02,0x00},       //InstantVoltagePhaseC		32
	{0x05,0x00,0x03,0x01,0x00,0x1F,0x07,0x00,0xFF,0x02,0x00},       //InstantCurrentPhaseA 		33
	{0x06,0x00,0x03,0x01,0x00,0x33,0x07,0x00,0xFF,0x02,0x00},       //InstantCurrentPhaseB		34
	{0x07,0x00,0x03,0x01,0x00,0x47,0x07,0x00,0xFF,0x02,0x00},       //InstantCurrentPhaseC		35
	{0x16,0x00,0x03,0x01,0x00,0x10,0x07,0x00,0xFF,0x02,0x00},       //ReactivePowerTotal
	{0x13,0x00,0x03,0x01,0x00,0x17,0x07,0x00,0xFF,0x02,0x00},       //ReactivePowerPhaseA
	{0x14,0x00,0x03,0x01,0x00,0x2B,0x07,0x00,0xFF,0x02,0x00},       //ReactivePowerPhaseB
	{0x15,0x00,0x03,0x01,0x00,0x3F,0x07,0x00,0xFF,0x02,0x00},       //ReactivePowerPhaseC
	{0x12,0x00,0x03,0x01,0x00,0x0F,0x07,0x00,0xFF,0x02,0x00},       //InstantPowerTotal         40
	{0x0F,0x00,0x03,0x01,0x00,0x15,0x07,0x00,0xFF,0x02,0x00},       //InstantPowerPhaseA
	{0x10,0x00,0x03,0x01,0x00,0x29,0x07,0x00,0xFF,0x02,0x00},       //InstantPowerPhaseB
	{0x11,0x00,0x03,0x01,0x00,0x3D,0x07,0x00,0xFF,0x02,0x00},       //InstantPowerPhaseC
	{0x2E,0x00,0x04,0x01,0x00,0x01,0x06,0x00,0xFF,0x02,0x00},       //MaxDemandPlusATotal       44    
	{0x31,0x00,0x04,0x01,0x00,0x01,0x06,0x01,0xFF,0x02,0x00},       //MaxDemandPlusATariff1     45
	{0x35,0x00,0x04,0x01,0x00,0x01,0x06,0x02,0xFF,0x02,0x00},       //MaxDemandPlusATariff2     46
	{0x39,0x00,0x04,0x01,0x00,0x01,0x06,0x03,0xFF,0x02,0x00},       //MaxDemandPlusATariff3     47
	{0x30,0x00,0x04,0x01,0x00,0x02,0x06,0x00,0xFF,0x02,0x00},       //MaxDemandSubATotal        48
	{0x33,0x00,0x04,0x01,0x00,0x02,0x06,0x01,0xFF,0x02,0x00},       //MaxDemandSubATariff1      49
	{0x37,0x00,0x04,0x01,0x00,0x02,0x06,0x02,0xFF,0x02,0x00},       //MaxDemandSubATariff2      50
	{0x3B,0x00,0x04,0x01,0x00,0x02,0x06,0x03,0xFF,0x02,0x00},       //MaxDemandSubATariff3          51
	{0x2F,0x00,0x04,0x01,0x00,0x01,0x06,0x00,0xFF,0x05,0x00},       //MaxDemandPlusATotalTime       52
	{0x32,0x00,0x04,0x01,0x00,0x01,0x06,0x01,0xFF,0x05,0x00},       //MaxDemandPlusATariff1Time     53
	{0x36,0x00,0x04,0x01,0x00,0x01,0x06,0x02,0xFF,0x05,0x00},       //MaxDemandPlusATariff2Time     54
	{0x3A,0x00,0x04,0x01,0x00,0x01,0x06,0x03,0xFF,0x05,0x00},       //MaxDemandPlusATariff3Time     55
	{0x45,0x00,0x04,0x01,0x00,0x02,0x06,0x00,0xFF,0x05,0x00},       //MaxDemandSubATotalTime
	{0x34,0x00,0x04,0x01,0x00,0x02,0x06,0x01,0xFF,0x05,0x00},       //MaxDemandSubATariff1Time
	{0x38,0x00,0x04,0x01,0x00,0x02,0x06,0x02,0xFF,0x05,0x00},       //MaxDemandSubATariff2Time
	{0x3C,0x00,0x04,0x01,0x00,0x02,0x06,0x03,0xFF,0x05,0x00}        //MaxDemandSubATariff3Time      59    
};

uint8_t 	GELEX_GetScale_Table[79][11] = {
//  -OBIS|Class ID-|----------OBIS Code----------|Data Type-
//     0    1    2    3    4    5    6    7    8    9    10 
	{0x00,0x00,0x01,0x00,0x00,0x60,0x01,0x00,0xFF,0x02,0x00},          //Meter ID
	{0x27,0x00,0x03,0x01,0x00,0x01,0x08,0x00,0xFF,0x03,0x00},          //ImportWh(EnergyPlusATotal)
	{0x1F,0x00,0x03,0x01,0x00,0x01,0x08,0x01,0xFF,0x03,0x00},          //EnergyPlusArate1
	{0x20,0x00,0x03,0x01,0x00,0x01,0x08,0x02,0xFF,0x03,0x00},          //EnergyPlusArate2
	{0x21,0x00,0x03,0x01,0x00,0x01,0x08,0x03,0xFF,0x03,0x00},          //EnergyPlusArate3
	{0x28,0x00,0x03,0x01,0x00,0x02,0x08,0x00,0xFF,0x03,0x00},          //ExportWh(EnergySubATotal)
	{0x23,0x00,0x03,0x01,0x00,0x02,0x08,0x01,0xFF,0x03,0x00},          //EnergySubArate1
	{0x24,0x00,0x03,0x01,0x00,0x02,0x08,0x02,0xFF,0x03,0x00},          //EnergySubArate2
	{0x25,0x00,0x03,0x01,0x00,0x02,0x08,0x03,0xFF,0x03,0x00},          //EnergySubArate3
	{0x29,0x00,0x03,0x01,0x00,0x03,0x08,0x00,0xFF,0x03,0x00},          //Q1(ReactiveenergyPlusATotal)
	{0x49,0x00,0x03,0x01,0x00,0x03,0x08,0x01,0xFF,0x03,0x00},          //ReactiveEnergyPlusArate1
	{0x4A,0x00,0x03,0x01,0x00,0x03,0x08,0x02,0xFF,0x03,0x00},          //ReactiveEnergyPlusArate2
	{0x4B,0x00,0x03,0x01,0x00,0x03,0x08,0x03,0xFF,0x03,0x00},          //ReactiveEnergyPlusArate3
	{0x2B,0x00,0x03,0x01,0x00,0x04,0x08,0x00,0xFF,0x03,0x00},          //Q3(ReactiveenergySubATotal)
	{0x4D,0x00,0x03,0x01,0x00,0x04,0x08,0x01,0xFF,0x03,0x00},          //ReactiveEnergySubArate1
	{0x4E,0x00,0x03,0x01,0x00,0x04,0x08,0x02,0xFF,0x03,0x00},          //ReactiveEnergySubArate2
	{0x4F,0x00,0x03,0x01,0x00,0x04,0x08,0x03,0xFF,0x03,0x00},          //ReactiveEnergySubArate3
	{0x1A,0x00,0x03,0x01,0x00,0x09,0x07,0x00,0xFF,0x03,0x00},          //ApparentPowerPhaseTotal
	{0x17,0x00,0x03,0x01,0x00,0x16,0x07,0x00,0xFF,0x03,0x00},          //ApparentPowerPhaseA
	{0x18,0x00,0x03,0x01,0x00,0x2A,0x07,0x00,0xFF,0x03,0x00},          //ApparentPowerPhaseB
	{0x19,0x00,0x03,0x01,0x00,0x3E,0x07,0x00,0xFF,0x03,0x00},          //ApparentPowerPhaseC
	{0x1B,0x00,0x03,0x01,0x00,0x0D,0x07,0x00,0xFF,0x03,0x00},          //PowerFactorPhaseTotal
	{0x1C,0x00,0x03,0x01,0x00,0x21,0x07,0x00,0xFF,0x03,0x00},          //PowerFactorPhaseA
	{0x1D,0x00,0x03,0x01,0x00,0x35,0x07,0x00,0xFF,0x03,0x00},          //PowerFactorPhaseB
	{0x1E,0x00,0x03,0x01,0x00,0x49,0x07,0x00,0xFF,0x03,0x00},          //PowerFactorPhaseC
	{0x09,0x00,0x03,0x01,0x00,0x0E,0x07,0x00,0xFF,0x03,0x00},          //Frequency
	{0x02,0x00,0x03,0x01,0x00,0x20,0x07,0x00,0xFF,0x03,0x00},          //VoltagePhaseA
	{0x03,0x00,0x03,0x01,0x00,0x34,0x07,0x00,0xFF,0x03,0x00},          //VoltagePhaseB
	{0x04,0x00,0x03,0x01,0x00,0x48,0x07,0x00,0xFF,0x03,0x00},          //VoltagePhaseC
	{0x05,0x00,0x03,0x01,0x00,0x1F,0x07,0x00,0xFF,0x03,0x00},          //CurrentPhaseA
	{0x06,0x00,0x03,0x01,0x00,0x33,0x07,0x00,0xFF,0x03,0x00},          //CurrentPhaseB
	{0x07,0x00,0x03,0x01,0x00,0x47,0x07,0x00,0xFF,0x03,0x00},          //CurrentPhaseC
	{0x16,0x00,0x03,0x01,0x00,0x10,0x07,0x00,0xFF,0x03,0x00},          //ReactivePowerPhaseTotal
	{0x13,0x00,0x03,0x01,0x00,0x17,0x07,0x00,0xFF,0x03,0x00},          //ReactivePowerPhaseA
	{0x14,0x00,0x03,0x01,0x00,0x2B,0x07,0x00,0xFF,0x03,0x00},          //ReactivePowerPhaseB
	{0x15,0x00,0x03,0x01,0x00,0x3F,0x07,0x00,0xFF,0x03,0x00},          //ReactivePowerPhaseC
	{0x12,0x00,0x03,0x01,0x00,0x0F,0x07,0x00,0xFF,0x03,0x00},          //ActivePowerPhaseTotal
	{0x0F,0x00,0x03,0x01,0x00,0x15,0x07,0x00,0xFF,0x03,0x00},          //ActivePowerPhaseA
	{0x10,0x00,0x03,0x01,0x00,0x29,0x07,0x00,0xFF,0x03,0x00},          //ActivePowerPhaseB
	{0x11,0x00,0x03,0x01,0x00,0x3D,0x07,0x00,0xFF,0x03,0x00},          //ActivePowerPhaseC
	{0x2E,0x00,0x04,0x01,0x00,0x01,0x06,0x00,0xFF,0x03,0x00},          //MaxDemandPlusArate
	{0x31,0x00,0x04,0x01,0x00,0x01,0x06,0x01,0xFF,0x03,0x00},          //MaxDemandPlusArate1
	{0x35,0x00,0x04,0x01,0x00,0x01,0x06,0x02,0xFF,0x03,0x00},          //MaxDemandPlusArate2
	{0x39,0x00,0x04,0x01,0x00,0x01,0x06,0x03,0xFF,0x03,0x00},          //MaxDemandPlusArate3
	{0x30,0x00,0x04,0x01,0x00,0x02,0x06,0x00,0xFF,0x03,0x00},          //MaxDemandSubArate
	{0x33,0x00,0x04,0x01,0x00,0x02,0x06,0x01,0xFF,0x03,0x00},          //MaxDemandSubArate1
	{0x37,0x00,0x04,0x01,0x00,0x02,0x06,0x02,0xFF,0x03,0x00},          //MaxDemandSubArate2
	{0x3B,0x00,0x04,0x01,0x00,0x02,0x06,0x03,0xFF,0x03,0x00},          //MaxDemandSubArate3
	{0x66,0x00,0x04,0x01,0x00,0x01,0x02,0x00,0xFF,0x03,0x00},          //PositiveActiveCumulativeMDTotal
	{0x67,0x00,0x04,0x01,0x00,0x01,0x02,0x01,0xFF,0x03,0x00},          //PositiveActiveCumulativeMDTariff1
	{0x68,0x00,0x04,0x01,0x00,0x01,0x02,0x02,0xFF,0x03,0x00},          //PositiveActiveCumulativeMDTariff2
	{0x69,0x00,0x04,0x01,0x00,0x01,0x02,0x03,0xFF,0x03,0x00},          //PositiveActiveCumulativeMDTariff3
	{0x6B,0x00,0x04,0x01,0x00,0x02,0x02,0x00,0xFF,0x03,0x00},          //CumulativeMaximumDemandSubATotal
	{0x6C,0x00,0x04,0x01,0x00,0x02,0x02,0x01,0xFF,0x03,0x00},          //CumulativeMaximumDemandSubATariff1
	{0x6D,0x00,0x04,0x01,0x00,0x02,0x02,0x02,0xFF,0x03,0x00},          //CumulativeMaximumDemandSubATariff2
	{0x6E,0x00,0x04,0x01,0x00,0x02,0x02,0x03,0xFF,0x03,0x00},          //CumulativeMaximumDemandSubATariff3
	{0x59,0x00,0x04,0x01,0x00,0x03,0x06,0x00,0xFF,0x03,0x00},          //MaxdemandTotalplusRvalue
	{0x51,0x00,0x04,0x01,0x00,0x03,0x06,0x01,0xFF,0x03,0x00},          //MaxdemandTotalplusRTariff1value
	{0x53,0x00,0x04,0x01,0x00,0x03,0x06,0x02,0xFF,0x03,0x00},          //MaxdemandTotalplusRTariff2value
	{0x55,0x00,0x04,0x01,0x00,0x03,0x06,0x03,0xFF,0x03,0x00},          //MaxdemandTotalplusRTariff3value
	{0x70,0x00,0x04,0x01,0x00,0x03,0x02,0x00,0xFF,0x03,0x00},          //Cumulative MD+
	{0x71,0x00,0x04,0x01,0x00,0x03,0x02,0x01,0xFF,0x03,0x00},          //Cumulative MD+T1
	{0x72,0x00,0x04,0x01,0x00,0x03,0x02,0x02,0xFF,0x03,0x00},          //Cumulative MD+T2
	{0x73,0x00,0x04,0x01,0x00,0x03,0x02,0x03,0xFF,0x03,0x00},          //Cumulative MD+T3
	{0x7A,0x00,0x04,0x01,0x00,0x04,0x06,0x00,0xFF,0x03,0x00},          //MaxdemandSubRTotalValue
	{0x7C,0x00,0x04,0x01,0x00,0x04,0x06,0x01,0xFF,0x03,0x00},          //MaxdemandSubRTariff1Value
	{0x7E,0x00,0x04,0x01,0x00,0x04,0x06,0x02,0xFF,0x03,0x00},          //MaxdemandSubRTariff2Value
	{0x80,0x00,0x04,0x01,0x00,0x04,0x06,0x03,0xFF,0x03,0x00},          //MaxdemandSubRTariff3Value
	{0x75,0x00,0x04,0x01,0x00,0x04,0x02,0x00,0xFF,0x03,0x00},          //ReactiveCumulativeMDSubTotal
	{0x76,0x00,0x04,0x01,0x00,0x04,0x02,0x01,0xFF,0x03,0x00},          //ReactiveCumulativeMDSubTariff1
	{0x77,0x00,0x04,0x01,0x00,0x04,0x02,0x02,0xFF,0x03,0x00},          //ReactiveCumulativeMDSubTariff2
	{0x78,0x00,0x04,0x01,0x00,0x04,0x02,0x03,0xFF,0x03,0x00},          //ReactiveCumulativeMDSubTariff3
	{0x0C,0x00,0x03,0x01,0x00,0x51,0x07,0x28,0xFF,0x03,0x00},          //PhaseAnglePhaseA
	{0x0D,0x00,0x03,0x01,0x00,0x51,0x07,0x33,0xFF,0x03,0x00},          //PhaseAnglePhaseB
	{0x0E,0x00,0x03,0x01,0x00,0x51,0x07,0x3E,0xFF,0x03,0x00},           //PhaseAnglePhaseC
    
    {0x90,0x00,0x03,0x01,0x00,0x01,0x0E,0x00,0xFF,0x03,0x00},          //Import w total
	{0x91,0x00,0x03,0x01,0x00,0x02,0x0E,0x00,0xFF,0x03,0x00},          //Export w total
	{0x92,0x00,0x03,0x01,0x00,0x03,0x0E,0x00,0xFF,0x03,0x00},          //Import var total
	{0x93,0x00,0x03,0x01,0x00,0x04,0x0E,0x00,0xFF,0x03,0x00},           //Export var total
    
};
uint8_t 	GELEX_OBIS_Table[111][7] =  {
//   ------- GELEX OBIS ----------|-OBIS
	{0x00,0x00,0x01,0x00,0x00,0xFF,0x01},          //MeterTime
	{0x01,0x00,0x00,0x04,0x02,0xFF,0x41},          //Ti
	{0x01,0x00,0x00,0x04,0x05,0xFF,0x64},          //Ti1
	{0x01,0x00,0x00,0x04,0x03,0xFF,0x42},          //Tu
	{0x01,0x00,0x00,0x04,0x06,0xFF,0x65},          //Tu1
	{0x01,0x00,0x01,0x08,0x00,0xFF,0x27},          //ImportWh(EnergyPlusATotal)   //5
	{0x01,0x00,0x01,0x08,0x01,0xFF,0x1F},          //EnergyPlusArate1
	{0x01,0x00,0x01,0x08,0x02,0xFF,0x20},          //EnergyPlusArate2
	{0x01,0x00,0x01,0x08,0x03,0xFF,0x21},          //EnergyPlusArate3
	{0x01,0x00,0x02,0x08,0x00,0xFF,0x28},          //ExportWh(EnergySubATotal)
	{0x01,0x00,0x02,0x08,0x01,0xFF,0x23},          //EnergySubArate1
	{0x01,0x00,0x02,0x08,0x02,0xFF,0x24},          //EnergySubArate2
	{0x01,0x00,0x02,0x08,0x03,0xFF,0x25},          //EnergySubArate3
	{0x01,0x00,0x03,0x08,0x00,0xFF,0x29},          //Q1(ReactiveenergyPlusATotal)
	{0x01,0x00,0x03,0x08,0x01,0xFF,0x49},          //ReactiveEnergyPlusArate1
	{0x01,0x00,0x03,0x08,0x02,0xFF,0x4A},          //ReactiveEnergyPlusArate2
	{0x01,0x00,0x03,0x08,0x03,0xFF,0x4B},          //ReactiveEnergyPlusArate3
	{0x01,0x00,0x04,0x08,0x00,0xFF,0x2B},          //Q3(ReactiveenergySubATotal)
	{0x01,0x00,0x04,0x08,0x01,0xFF,0x4D},          //ReactiveEnergySubArate1
	{0x01,0x00,0x04,0x08,0x02,0xFF,0x4E},          //ReactiveEnergySubArate2
	{0x01,0x00,0x04,0x08,0x03,0xFF,0x4F},          //ReactiveEnergySubArate3
	{0x01,0x00,0x01,0x06,0x00,0xFF,0x2E},          //MaxDemandPlusArate
	{0x01,0x00,0x01,0x06,0x01,0xFF,0x31},          //MaxDemandPlusArate1
	{0x01,0x00,0x01,0x06,0x02,0xFF,0x35},          //MaxDemandPlusArate2
	{0x01,0x00,0x01,0x06,0x03,0xFF,0x39},          //MaxDemandPlusArate3
	{0x01,0x00,0x02,0x06,0x00,0xFF,0x30},          //MaxDemandSubArate
	{0x01,0x00,0x02,0x06,0x01,0xFF,0x33},          //MaxDemandSubArate1
	{0x01,0x00,0x02,0x06,0x02,0xFF,0x37},          //MaxDemandSubArate2
	{0x01,0x00,0x02,0x06,0x03,0xFF,0x3B},          //MaxDemandSubArate3
	{0x01,0x00,0x01,0x04,0x00,0xFF,0x2F},          //MaxDemandPlusArateTime
	{0x01,0x00,0x01,0x04,0x01,0xFF,0x32},          //MaxDemandPlusArate1Time
	{0x01,0x00,0x01,0x04,0x02,0xFF,0x36},          //MaxDemandPlusArate2Time
	{0x01,0x00,0x01,0x04,0x03,0xFF,0x3A},          //MaxDemandPlusArate3Time
	{0x01,0x00,0x02,0x04,0x00,0xFF,0x45},          //MaxDemandSubArateTime
	{0x01,0x00,0x02,0x04,0x01,0xFF,0x34},          //MaxDemandSubArate1Time
	{0x01,0x00,0x02,0x04,0x02,0xFF,0x38},          //MaxDemandSubArate2Time
	{0x01,0x00,0x02,0x04,0x03,0xFF,0x3C},          //MaxDemandSubArate3Time    //36

    {0x00,0x00,0x85,0x86,0x00,0xFF,0x5D},          //NumberResetBilling         //37    
    {0x00,0x00,0x85,0x8C,0x00,0xFF,0x5B},          //Time Reset Bill Maxde     //38  
    
	{0x01,0x00,0x01,0x02,0x00,0xFF,0x66},          //PositiveActiveCumulativeMDTotal
	{0x01,0x00,0x01,0x02,0x01,0xFF,0x67},          //PositiveActiveCumulativeMDTariff1
	{0x01,0x00,0x01,0x02,0x02,0xFF,0x68},          //PositiveActiveCumulativeMDTariff2
	{0x01,0x00,0x01,0x02,0x03,0xFF,0x69},          //PositiveActiveCumulativeMDTariff3
	{0x01,0x00,0x02,0x02,0x00,0xFF,0x6B},          //CumulativeMaximumDemandSubATotal
	{0x01,0x00,0x02,0x02,0x01,0xFF,0x6C},          //CumulativeMaximumDemandSubATariff1
	{0x01,0x00,0x02,0x02,0x02,0xFF,0x6D},          //CumulativeMaximumDemandSubATariff2
	{0x01,0x00,0x02,0x02,0x03,0xFF,0x6E},          //CumulativeMaximumDemandSubATariff3
	{0x01,0x00,0x03,0x06,0x00,0xFF,0x59},          //MaxdemandTotalplusRvalue
	{0x01,0x00,0x03,0x04,0x00,0xFF,0x5A},          //MaxdemandTotalplusRTime
	{0x01,0x00,0x03,0x06,0x01,0xFF,0x51},          //MaxdemandTotalplusRTariff1value
	{0x01,0x00,0x03,0x04,0x01,0xFF,0x52},          //MaxdemandTotalplusRTariff1Time
	{0x01,0x00,0x03,0x06,0x02,0xFF,0x53},          //MaxdemandTotalplusRTariff2value
	{0x01,0x00,0x03,0x04,0x02,0xFF,0x54},          //MaxdemandTotalplusRTariff2Time
	{0x01,0x00,0x03,0x06,0x03,0xFF,0x55},          //MaxdemandTotalplusRTariff3value
	{0x01,0x00,0x03,0x04,0x03,0xFF,0x56},          //MaxdemandTotalplusRTariff3Time
	{0x01,0x00,0x03,0x02,0x00,0xFF,0x70},          //Cumulative MD+
	{0x01,0x00,0x03,0x02,0x01,0xFF,0x71},          //Cumulative MD+T1
	{0x01,0x00,0x03,0x02,0x02,0xFF,0x72},          //Cumulative MD+T2
	{0x01,0x00,0x03,0x02,0x03,0xFF,0x73},          //Cumulative MD+T3
	{0x01,0x00,0x04,0x06,0x00,0xFF,0x7A},          //MaxdemandSubRTotalValue
	{0x01,0x00,0x04,0x04,0x00,0xFF,0x7B},          //MaxdemandSubRTotalTime
	{0x01,0x00,0x04,0x06,0x01,0xFF,0x7C},          //MaxdemandSubRTariff1Value
	{0x01,0x00,0x04,0x04,0x01,0xFF,0x7D},          //MaxdemandSubRTariff1Time
	{0x01,0x00,0x04,0x06,0x02,0xFF,0x7E},          //MaxdemandSubRTariff2Value
	{0x01,0x00,0x04,0x04,0x02,0xFF,0x7F},          //MaxdemandSubRTariff2Time
	{0x01,0x00,0x04,0x06,0x03,0xFF,0x80},          //MaxdemandSubRTariff3Value
	{0x01,0x00,0x04,0x04,0x03,0xFF,0x81},          //MaxdemandSubRTariff3Time
	{0x01,0x00,0x04,0x02,0x00,0xFF,0x75},          //ReactiveCumulativeMDSubTotal
	{0x01,0x00,0x04,0x02,0x01,0xFF,0x76},          //ReactiveCumulativeMDSubTariff1
	{0x01,0x00,0x04,0x02,0x02,0xFF,0x77},          //ReactiveCumulativeMDSubTariff2
	{0x01,0x00,0x04,0x02,0x03,0xFF,0x78},          //ReactiveCumulativeMDSubTariff3 ----------------> Check Billing End Position
	{0x01,0x00,0x09,0x07,0x00,0xFF,0x1A},          //ApparentPowerPhaseTotal
	{0x01,0x00,0x16,0x07,0x00,0xFF,0x17},          //ApparentPowerPhaseA
	{0x01,0x00,0x2A,0x07,0x00,0xFF,0x18},          //ApparentPowerPhaseB
	{0x01,0x00,0x3E,0x07,0x00,0xFF,0x19},          //ApparentPowerPhaseC
	{0x01,0x00,0x0D,0x07,0x00,0xFF,0x1B},          //PowerFactorPhaseTotal
	{0x01,0x00,0x21,0x07,0x00,0xFF,0x1C},          //PowerFactorPhaseA
	{0x01,0x00,0x35,0x07,0x00,0xFF,0x1D},          //PowerFactorPhaseB
	{0x01,0x00,0x49,0x07,0x00,0xFF,0x1E},          //PowerFactorPhaseC
	{0x01,0x00,0x0E,0x07,0x00,0xFF,0x09},          //Frequency
	{0x01,0x00,0x20,0x07,0x00,0xFF,0x02},          //VoltagePhaseA
	{0x01,0x00,0x34,0x07,0x00,0xFF,0x03},          //VoltagePhaseB
	{0x01,0x00,0x48,0x07,0x00,0xFF,0x04},          //VoltagePhaseC
	{0x01,0x00,0x1F,0x07,0x00,0xFF,0x05},          //CurrentPhaseA
	{0x01,0x00,0x33,0x07,0x00,0xFF,0x06},          //CurrentPhaseB
	{0x01,0x00,0x47,0x07,0x00,0xFF,0x07},          //CurrentPhaseC
	{0x01,0x00,0x10,0x07,0x00,0xFF,0x16},          //ReactivePowerPhaseTotal
	{0x01,0x00,0x17,0x07,0x00,0xFF,0x13},          //ReactivePowerPhaseA
	{0x01,0x00,0x2B,0x07,0x00,0xFF,0x14},          //ReactivePowerPhaseB
	{0x01,0x00,0x3F,0x07,0x00,0xFF,0x15},          //ReactivePowerPhaseC
	{0x01,0x00,0x0F,0x07,0x00,0xFF,0x12},          //ActivePowerPhaseTotal
	{0x01,0x00,0x15,0x07,0x00,0xFF,0x0F},          //ActivePowerPhaseA
	{0x01,0x00,0x29,0x07,0x00,0xFF,0x10},          //ActivePowerPhaseB
	{0x01,0x00,0x3D,0x07,0x00,0xFF,0x11},          //ActivePowerPhaseC
	{0x01,0x00,0x01,0x1D,0x00,0xFF,0x84},          //AvgActivePowerPlus
	{0x01,0x00,0x03,0x1D,0x00,0xFF,0x85},          //AvgActivePowerSub
	{0x01,0x00,0x02,0x1D,0x00,0xFF,0x86},          //AvgReactivePowerPlus
	{0x01,0x00,0x04,0x1D,0x00,0xFF,0x87},          //AvgReactivePowerSub
	{0x01,0x00,0x20,0x07,0x01,0xFF,0x88},          //VoltDistorPhaseA
	{0x01,0x00,0x34,0x07,0x01,0xFF,0x89},          //VoltDistorPhaseB
	{0x01,0x00,0x48,0x07,0x01,0xFF,0x8A},          //VoltDistorPhaseC
	{0x01,0x00,0x1F,0x07,0x01,0xFF,0x8B},          //CurrDistorPhaseA
	{0x01,0x00,0x33,0x07,0x01,0xFF,0x8C},          //CurrDistorPhaseB
	{0x01,0x00,0x47,0x07,0x01,0xFF,0x8D},          //CurrDistorPhaseC
	{0x01,0x00,0x51,0x07,0x28,0xFF,0x0C},          //PhaseAnglePhaseA
	{0x01,0x00,0x51,0x07,0x33,0xFF,0x0D},          //PhaseAnglePhaseB
	{0x01,0x00,0x51,0x07,0x3E,0xFF,0x0E},	       //PhaseAnglePhaseC
    {0x01,0x00,0x01,0x0E,0x00,0xFF,0x90},	       //Import Kw total
    {0x01,0x00,0x02,0x0E,0x00,0xFF,0x91},	       //Export Kw total
    {0x01,0x00,0x03,0x0E,0x00,0xFF,0x92},	       //Import var total
    {0x01,0x00,0x04,0x0E,0x00,0xFF,0x93},	       //Export var total
};


/*
Unit cua gia tri tuc thoi:

IB: W
lC: VA
ID: var
lE: Wh
IF: Vah
20: varh
21: A
22: C
23 :V
2C: Hz

Unit cua gia tri His va Lpf th� o trong file m� ta.
*/


struct_Obis_Scale       Obis_Gelex_Ins[GELEX_MAX_OBIS_INTAN]=          
{
    {0x02,    &Str_Ob_VolA,           GELEX_SCALE_VOLTAGE,             &Unit_Voltage,       0,      {NULL},              &Str_Ob_VolA },         //vol a             2
    {0x03,    &Str_Ob_VolB,           GELEX_SCALE_VOLTAGE,             &Unit_Voltage,       0,      {NULL},              &Str_Ob_VolB },         //vol b             3
    {0x04,    &Str_Ob_VolC,           GELEX_SCALE_VOLTAGE,             &Unit_Voltage,       0,      {NULL},              &Str_Ob_VolC },          //vol c             4
    
    {0x05,    &Str_Ob_CurA,           GELEX_SCALE_CURRENT,             &Unit_Current,       0,      {NULL},              &Str_Ob_CurA },         //current a        5
    {0x06,    &Str_Ob_CurB,           GELEX_SCALE_CURRENT,             &Unit_Current,       0,      {NULL},              &Str_Ob_CurB },         //current b        6
    {0x07,    &Str_Ob_CurC,           GELEX_SCALE_CURRENT,             &Unit_Current,       0,      {NULL},              &Str_Ob_CurC },         //current c        7
    
    {0x09,    &Str_Ob_Freq,           GELEX_SCALE_FREQ,                &Unit_Freq,          0,      {NULL},              &Str_Ob_Freq },            //freq      9
   
    {0x0F,    &Str_Ob_AcPowA,         GELEX_SCALE_ACTIVE_POW,           &Unit_Active_Intan_Kw, 0,      {NULL},              {NULL}  },      //active pow pha a 0F   
    {0x10,    &Str_Ob_AcPowB,         GELEX_SCALE_ACTIVE_POW,           &Unit_Active_Intan_Kw, 0,      {NULL},              {NULL}  },        //active pow pha b 10
    {0x11,    &Str_Ob_AcPowC,         GELEX_SCALE_ACTIVE_POW,           &Unit_Active_Intan_Kw, 0,      {NULL},              {NULL}  },        //active pow pha c 11
    {0x12,    &Str_Ob_AcPowTo,        GELEX_SCALE_ACTIVE_POW,           &Unit_Active_Intan_Kw, 0,      {NULL},              {NULL}  },        //active pow pha total 12
    
    {0x12,    &Str_Ob_RePowA,         GELEX_SCALE_REACTIVE_POW,         &Unit_Reactive_Intan_Kvar,       0,      {NULL},              {NULL} },    //Reactive pow pha a 13
    {0x13,    &Str_Ob_RePowB,         GELEX_SCALE_REACTIVE_POW,         &Unit_Reactive_Intan_Kvar,       0,      {NULL},              {NULL} },    //Reactive pow pha b 14
    {0x14,    &Str_Ob_RePowC,         GELEX_SCALE_REACTIVE_POW,         &Unit_Reactive_Intan_Kvar,       0,      {NULL},              {NULL} },    //Reactive pow pha c 15
    {0x15,    &Str_Ob_RePowTo,        GELEX_SCALE_REACTIVE_POW,         &Unit_Reactive_Intan_Kvar,       0,      {NULL},              {NULL}},    //Reactive pow pha total 16
    
    {0x1B,    &Str_Ob_PoFac,           GELEX_SCALE_POW_FACTOR,          {NULL},                     0,      {NULL},              &Str_Ob_PoFac  },     //Pow factor total 1B
    {0x1C,    &Str_Ob_PoFacA,          GELEX_SCALE_POW_FACTOR,          {NULL},                     0,      {NULL},              &Str_Ob_PoFacA  },    //Pow factor pha a 1C
    {0x1D,    &Str_Ob_PoFacB,          GELEX_SCALE_POW_FACTOR,          {NULL},                     0,      {NULL},              &Str_Ob_PoFacB  },      //Pow factor pha b 1D
    {0x1E,    &Str_Ob_PoFacC,          GELEX_SCALE_POW_FACTOR,          {NULL},                     0,      {NULL},              &Str_Ob_PoFacC  },      //Pow factor pha c 1E
    
    
    {0x1F,    &Str_Ob_AcPlus_Rate1,   GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcPlus_Rate1_chot,          &Str_Ob_AcPlus_Rate1},          //nang luong plus bieu 1 1F
    {0x20,    &Str_Ob_AcPlus_Rate2,   GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcPlus_Rate2_chot,          &Str_Ob_AcPlus_Rate2},          //nang luong plus bieu 2 20
    {0x21,    &Str_Ob_AcPlus_Rate3,   GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcPlus_Rate3_chot,          &Str_Ob_AcPlus_Rate3},          //nang luong plus bieu 3 21
    
    {0x23,    &Str_Ob_AcSub_Rate1,    GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcSub_Rate1_chot,           &Str_Ob_AcSub_Rate1},         //nang luong Sub bieu 1 23
    {0x24,    &Str_Ob_AcSub_Rate2,    GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcSub_Rate2_chot,           &Str_Ob_AcSub_Rate2},        //nang luong Sub bieu 2 24
    {0x25,    &Str_Ob_AcSub_Rate3,    GELEX_SCALE_TARRIFF,              &Unit_Active_EnTotal,           0,      &Str_Ob_AcSub_Rate3_chot,           &Str_Ob_AcSub_Rate3},         //nang luong Sub bieu 3 25

    {0x27,    &Str_Ob_En_ImportWh,    GELEX_SCALE_TOTAL_ENERGY,         &Unit_Active_EnTotal,           0,      &Str_Ob_AcImTotal_Chot,             &Str_Ob_En_ImportWh},    //Total Plus Wh      27
    {0x28,    &Str_Ob_En_ExportWh,    GELEX_SCALE_TOTAL_ENERGY,         &Unit_Active_EnTotal,           0,      &Str_Ob_AcExTotal_Chot,             &Str_Ob_En_ExportWh},    //Total Sub Wh      28
    {0x29,    &Str_Ob_En_ImportVar,   GELEX_SCALE_TOTAL_ENERGY,         &Unit_Reactive_EnTotal,       0,      &Str_Ob_ReImTotal_Chot,             &Str_Ob_En_ImportVar},    //Q1        29
    {0x2B,    &Str_Ob_En_ExportVar,   GELEX_SCALE_TOTAL_ENERGY,         &Unit_Reactive_EnTotal,       0,      &Str_Ob_ReExTotal_Chot,             &Str_Ob_En_ExportVar},    //Q3        2B

    {0x31,    &Str_Ob_MaxDeRate1,      GELEX_SCALE_MAX_DEMAND,         &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDeRate1_Chot,                {NULL}},           //Maxdemand plus value bieu 1 31
    {0x32,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL} },                  //Maxdemand plus time bieu 1 32
    {0x33,    {NULL},                  0,                              &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDe2Rate1_Chot,               {NULL} },                   //Maxdemand sub value bieu 1 33
    {0x34,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL} },                     //Maxdemand sub time bieu 1 34
    
    {0x35,    &Str_Ob_MaxDeRate2,      GELEX_SCALE_MAX_DEMAND,         &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDeRate2_Chot,                {NULL}},          //Maxdemand plus value bieu 2 35
    {0x36,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL}  },                   //Maxdemand plus time bieu 2 36
    {0x37,    {NULL},                  0,                              &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDe2Rate2_Chot,               {NULL}  },               //Maxdemand sub value bieu 2 37
    {0x38,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL}  },                //Maxdemand sub time bieu 2 38
    
    {0x39,    &Str_Ob_MaxDeRate3,      GELEX_SCALE_MAX_DEMAND,         &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDeRate3_Chot,                {NULL}},           //Maxdemand plus value bieu 3 39
    {0x3A,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL}  },                    //Maxdemand plus time bieu 3 3A
    {0x3B,    {NULL},                  0,                              &Unit_Active_Intan_Kw,       0,      &Str_Ob_MaxDe2Rate3_Chot,               {NULL}  },                    //Maxdemand sub value bieu 3 3B
    {0x3C,    {NULL},                  0,                              {NULL},                      0,      {NULL},                                 {NULL}  },                   //Maxdemand sub time bieu 3 3C
  
    {0x90,    {NULL},                  GELEX_SCALE_ACTIVE_POW,         &Unit_Active_Intan_Kw,       0,      {NULL},                         &Str_Ob_lpf[0]  },                      //Ti     41
    {0x91,    {NULL},                  GELEX_SCALE_ACTIVE_POW,         &Unit_Active_Intan_Kw,       0,      {NULL},                         &Str_Ob_lpf[1]  }, 
    
    {0x92,    {NULL},                  GELEX_SCALE_ACTIVE_POW,         &Unit_Reactive_Intan_Kvar,   0,      {NULL},                         &Str_Ob_lpf[2]  },                      //Ti     41
    {0x93,    {NULL},                  GELEX_SCALE_ACTIVE_POW,         &Unit_Reactive_Intan_Kvar,   0,      {NULL},                         &Str_Ob_lpf[3]  },                     //Tu  42
    
    {0x41,    &Str_Ob_Ti,              GELEX_SCALE_TU_TI,              {NULL},                      0,      &Str_Ob_Ti,          {NULL}  },                      //Ti     41
    {0x42,    &Str_Ob_Tu,              GELEX_SCALE_TU_TI,              {NULL},                      0,      &Str_Ob_Tu,          {NULL}  },                     //Tu  42
};




struct_Obis_event       Obis_Gelex_Event[GELEX_MAX_EVENT]= 
{
    {12,        &Ev_ClearData_Startt},     //Program Memory Error                  //0
    {42,        &Ev_MagField_Startt},      //Strong magnetic fields start
    {102,       &Ev_RePowFlow_Startt},      //Reverse Power Start                   //2
    {111,       &Ev_LowRTC_Startt},     //Battery voltage low                   //3

    {122,       &Ev_OpenCover_Startt},      //Meter cover open
    {123,       &Ev_CloseCover_Startt},     //Meter cover close                     //5
    
    {40,        &Ev_OpenTer_Startt},      //terminal cover open   : 40
    {41,        &Ev_CloseTer_Startt},     //terminal cover close   
    
    {126,       &Ev_PhaseAOverCur_Startt},     //Over current of phase A start
    {127,       &Ev_PhaseAOverCur_Stop},     //Over current of phase A end
    {128,       &Ev_PhaseBOverCur_Startt},     //Over current of phase B start
    {129,       &Ev_PhaseBOverCur_Stop},     //Over current of phase B end
    {130,       &Ev_PhaseCOverCur_Startt},     //Over current of phase C start
    {131,       &Ev_PhaseCOverCur_Stop},     //Over current of phase C end        //11

    {1,         &Ev_PowerDow_Startt},     //Power Off
    {2,         &Ev_PowerOn_Startt},    //Power On

    {5,          &Ev_ProcessTime_Startt},     //Time Change(new date/time)    //14
  
    {78,         &Ev_PhaseAreve_Startt},    //Current reverse of phase A start
    {79,         &Ev_PhaseAreve_Stopt},    //Current reverse of phase A end
    {80,         &Ev_PhaseBreve_Startt},    //Current reverse of phase B start
    {81,         &Ev_PhaseBreve_Stopt},    //Current reverse of phase B end
    {82,         &Ev_PhaseCreve_Startt},    //Current reverse of phase C start
    {83,         &Ev_PhaseCreve_Stopt},    //Current reverse of phase C end    //20

    {104,       &Ev_PhaseAfail_Startt},     //VT Failure of phase A start
    {105,       &Ev_PhaseAfail_Stopt},     //VT Failure of phase A end
    {106,       &Ev_PhaseBfail_Startt},     //VT Failure of phase B start
    {107,       &Ev_PhaseBfail_Stopt},     //VT Failure of phase B end
    {108,       &Ev_PhaseCfail_Startt},     //VT Failure of phase C start
    {109,       &Ev_PhaseCfail_Stopt},     //VT Failure of phase C end      //26
};




